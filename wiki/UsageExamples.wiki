= Usage Example =
It is simple to set up a running system with the Serpent template engine.
Here is an example which should be a good base for your own integration.
For a detailed description of all parameters and methods take a look a the [API].

*directory structure*
{{{
index.php
vendor/
    McSodbrenner/
        Serpent/*
templates/
    base.htm
templates_compiled/
}}}

*index.php*
{{{
// load the PSR-0 autoloader (not necessary if you use Composer or you already have such an autoloader)
include('vendor/McSodbrenner/Serpent/Autoloader.php');

// init serpent
$serpent = new \McSodbrenner\Serpent\Serpent('./templates_compiled/', 'utf-8');

// define the way to pull our templates
$serpent->addResource('file',
    new \McSodbrenner\Serpent\ResourceFile('./templates/', '.htm')
);

// an example how to integrate markdown
$serpent->addMappings(array(
    'markdown' => function($content){
        // we use Composer so we don't have to include the Markdown library 
        $markdown = new dflydev\markdown\MarkdownParser();
        return $markdown->transformMarkdown($content);
    }
));

// render template with data
echo $serpent->render('home', array('world' => 'World!'));
}}}

*home.htm*
{{{
~:extend('base')~

~:block('content')~
    The Content for this page.<br />
    Hello ~~:raw($world)~ (~~:escape($_SERVER.HTTP_USER_AGENT)~).
~:endblock()~

~:block('teaser')~
    Because we defined this block the empty teaser block of the base template gets overwritten with this text.
~:endblock()~
}}}

*base.htm*
{{{
<!doctype html>

<html>
<head>
	<title>Your site</title>
</head>
<body>
    <div id="left">
        <!-- navigation -->
        ~:block('teaser')~
        ~:endblock()~
    </div>
    <div id="right">
        ~:block('content')~
            This text appears if content is not defined in the extending template.
        ~:endblock()~

        ~~:markdown(:raw($world))~
    </div>
</body>
</html>
}}}

